<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>JS Client for Triage</title>
		<script src="http://code.jquery.com/jquery-1.7.min.js" type="text/javascript"></script>
		<script src="js/triage-client.js?@" type="text/javascript"></script>
		<script type="text/javascript">
			//<![CDATA[
				"use strict";

				var demo = function(){
					var $result = $('#result');

					$("#logerror").click(function(){
						Triage.logError('test', document.URL, new Error().lineNumber);
					});

					$("#logmsg").click(function(){
						Triage.logMsg('test', document.URL, new Error().lineNumber);
					});

					$("#createerror").click(function(){
						throw 'Errro test message';
					});

					$("#customerrors").click(function(){
						try {
							throw Error('custom error');
						}catch(e){
							Triage.logError('Custom error', document.URL, e.lineNumber, 'BAD');
						}
					});
				}

				$(function(){
					Triage.init('127.0.0.1:6543', 'frontend');

					demo();
				});
			//]]>
		</script>
	</head>
	<body>
		<div id="container">
			<div id="result">

			</div><!-- /result -->
			<div id="demo">
				<a href="javascript:void(0);" title="log error" id="logerror">Log error</a>	|
				<a href="javascript:void(0);" title="log msg" id="logmsg">Log message</a>	|
				<a href="javascript:void(0);" title="create error" id="createerror">Create error</a>	|
				<a href="javascript:void(0);" title="custom error" id="customerrors">Catch Custom errors</a>	|
			</div>
		</div><!-- /container -->
	</body>
</html>
